<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>现场物料管理报表</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* --- 基础与主题 --- */
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: #0a192f; /* 深蓝色背景 */
            color: #e6f1ff; /* 基础文字颜色 */
            margin: 0;
            padding: 2rem;
            font-size: 14px;
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .page-header h1 {
            color: #e2e8f0; /* 标题颜色 (slate-200) */
            font-size: 2rem;
            margin: 0;
        }

        /* --- 表格外层容器 --- */
        .table-container {
            width: 100%; /* 缩小到80% */
            overflow: auto; /* 同时处理垂直和水平滚动 */
            max-height: calc(100vh - 10rem); /* 关键：限制最大高度，让滚动条在屏幕内 */
            background: rgba(17, 34, 64, 0.75); /* 暗色背景 */
            border: 1px solid rgba(0, 194, 255, 0.3); /* 青色边框 */
            border-radius: 0.75rem;
            box-shadow: 0 0 15px rgba(0, 194, 255, 0.1);
        }


        /* --- 表格样式 --- */
       table {
            width: 100%;
            border-collapse: separate; /* [MODIFIED] 改为 separate 模式，从根本上解决 sticky 和 border 的渲染冲突 */
            border-spacing: 0; /* [ADDED] 移除单元格间距 */
            white-space: nowrap;          
            table-layout: fixed; /* [ADDED] 关键：启用固定布局算法，使宽度设置生效 */
        }

        th, td {
            padding: 0.4rem 1rem; /* 进一步压缩垂直内边距 */
            text-align: left;
            vertical-align: middle;
        }
        
        th:last-child, td:last-child {
            border-right: none; /* 最后一列不需要右边框 */
        }


        /* --- 表头样式 --- */
        thead {
            font-weight: 500;
            color: #94a3b8; /* slate-400 */
            position: relative; /* 创建层叠上下文 */
        }
        
        thead .group-header th {
            background-color: rgba(10, 25, 47, 0.9); /* 深色表头背景 */
            text-align: center;            
            /* [REMOVED] 移除旧的、无效的边框样式 */
        }

        /* [REMOVED] 移除 last-child 的 border-right: none，确保全包框 */
        thead .group-header th:last-child,
        thead .field-header th:last-child {
            /* border-right: none; */
        }

        /* [ADDED] 确保申请信息表头内容两端对齐 */
        .group-header-content {
            display: flex;
            align-items: center;
            /* [MODIFIED] 改为 flex-start 以便将所有内容固定在左侧 */
            justify-content: flex-start; /* [MODIFIED] 文字居中 */
            padding: 0 0.5rem; /* 增加一些内边距，避免内容贴边 */
            position: relative; /* [ADDED] 为图标绝对定位创建相对容器 */
        }
        
        thead .field-header th {
            background-color: rgba(10, 25, 47, 0.9); /* 深色表头背景 */
            text-align: center; /* [ADDED] 第二行表头文字居中 */
            /* [REMOVED] 移除旧的、无效的边框样式 */
        }

        /* --- [MODIFIED] 响应式列宽设置 for 1920px width --- */
        .field-header th:nth-child(1) { width: 6.6%; }    /* 流程编码 */
        .field-header th:nth-child(2) { width: 4.1%; }    /* 申请日期 */
        .field-header th:nth-child(3) { width: 3.3%; }    /* 申请人 */
        .field-header th:nth-child(4) { width: 7%; }    /* 项目编号 */
        .field-header th:nth-child(5) { width: 10%; }   /* 项目名称 */        
        .field-header th:nth-child(6) { width: 6.6%; }    /* 物料编码 */
        .field-header th:nth-child(7) { width: 10%; }   /* 物料名称 */
        /* Columns 8, 9, 10 are display:none */
        .field-header th:nth-child(11) { width: 30%; }  /* 签核进度 (Fixed Width) */
        .field-header th:nth-child(12) { width: 15%; }  /* 物流状态 */

        /* --- 表体样式 --- */
        tbody tr {
            color: #cbd5e1; /* slate-300 */
            position: relative; /* 创建层叠上下文 */
        }
        tbody tr:nth-child(even) {
            background-color: transparent; /* 移除斑马条纹，保持一致暗色 */
        }

        tbody tr:hover {
            background-color: rgb(30 41 59); /* slate-800 */
        }

        /* [ADDED] 为数据单元格添加清晰的边框 */
        tbody td {
            /* [MODIFIED] 只保留下边框 */
            box-shadow: inset 0 -1px 0 rgb(100, 116, 139); /* bottom */
        }

        /* [ADDED] 移除最后一列单元格多余的右边框 */
        tbody td:last-child {
            box-shadow: inset 0 -1px 0 rgb(100, 116, 139); /* [MODIFIED] 确保样式统一 */
        }

        /* --- 新增：表头切换图标样式 --- */
        .toggle-icon {
            cursor: pointer;
            font-weight: bold;
            color: #64748b; /* slate-500 */            
            transition: color 0.2s;
            /* [MODIFIED] 使用绝对定位将图标固定在左侧 */
            position: relative;
            margin-right: 0.5rem;
            left: 0.5rem;
        }
        .toggle-icon:hover { color: #e2e8f0; /* slate-200 */ }

        /* --- [最终修复] 冻结表头和列的关键样式 --- */
        thead th {
            position: sticky;
            box-shadow: inset 0 -1px 0 rgba(100, 116, 139, 0.5); 
        }

        thead .group-header th {
            top: 0;
            z-index: 11; /* 高于第二行滚动部分 */
        }

        thead .field-header th {
            top: 30px; 
            z-index: 10; /* 低于第一行滚动部分 */
        }

        /* 冻结列：所有冻结列里的单元格 */
        td:nth-child(-n+4),
        th:nth-child(-n+4) {
            position: sticky;
        }

        /* 冻结列的表头（第二行） */
        thead .field-header th:nth-child(-n+4) {
            z-index: 20; /* 高于所有滚动表头 */
        }
        /* 冻结列的表头（第一行） */
        thead .group-header th:first-child {
            z-index: 21; /* 确保第一行的冻结列在最顶层 */
        }

        /* 冻结列的主体单元格 */
        tbody td:nth-child(-n+4) {
            z-index: 5; /* 低于所有表头 */
        }
        /* --- [修复结束] --- */

        /* 为冻结列提供背景色，防止滚动时文字重叠 */
        thead .group-header th:first-child {
            background-color: rgba(10, 25, 47, 0.9);
        }

        thead .field-header th:nth-child(-n+4) {
             background-color: rgba(10, 25, 47, 0.9);
        }
        
        tbody td:nth-child(-n+4) {
            background-color: rgba(17, 34, 64, 0.75);
        }
        
        tbody tr:hover td:nth-child(-n+4) {
            background-color: rgb(30 41 59);
        }
        

        /* --- 特定列格式 --- */
        .mono-font {
            font-family: 'SF Mono', 'Courier New', Courier, monospace;
        }
        .text-center { text-align: center; }
        .text-right { text-align: right; }

        /* --- 进度条通用 --- */
        .progress-track {
            display: flex;
            align-items: center; /* 垂直居中对齐 */
            padding: 0.25rem 0;
            position: relative;
            width: 80%; /* [MODIFIED] 缩小轨道宽度以压缩节点 */
            margin: 0 auto; /* [MODIFIED] 使缩小的轨道居中 */
        }
        .progress-step {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            text-align: center;
            min-width: 60px; /* 每个步骤的最小宽度 */
            min-width: 60px; /* 每个步骤的最小宽度 */           
        }
        .step-node {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #475569; /* Pending node color (slate-600) */
            border: 2px solid #0a192f;
            margin-bottom: 0.5rem;
        }
        .step-label {
            font-size: 0.75rem;
            color: #94a3b8; /* slate-400 */
            white-space: normal; /* 允许标签换行 */
        }
        .progress-step.completed .step-node {
            background-color: #22c55e; /* Green for completed */
        }
        .progress-step.completed .step-label {
            color: #e2e8f0; /* slate-200 */
            font-weight: 500;
        }

        /* --- 签核进度条 --- */
        .approval-track::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 10%; 
            width: 80%;
            height: 2px;
            background-color: #334155; /* slate-700 */
            z-index: 1;
        }

        /* 【新增】签核进度单元格布局样式 */
         .approval-container {
            /* min-width is removed */
        }
        .approval-dates {
            display: flex;
            /* [REMOVED] 移除外边距，让日期行上移 */
            /* margin-bottom: 0.25rem; */
            justify-content: flex-start; /* [MODIFIED] 使内容左对齐 */
            gap: 2rem; /* [MODIFIED] 增加列间距 */
            font-size: 0.75rem; /* 12px */
            padding: 0 0.25rem;
            margin-bottom: 0.25rem;
        }
        .date-column {
            display: flex;
            flex-direction: column; /* 设置主轴方向为垂直方向 */
            gap: 0.2rem;
        }
        .date-label {
            color: #94a3b8; /* slate-400 */
            margin-right: 0.5em;
        }
        .date-value {
            color: #cbd5e1; /* slate-300 */
            font-weight: 500;
        }
        /* 【新增结束】 */

        /* [MODIFIED] 将下移的样式直接作用于进度条，而不是整个容器 */
        .approval-track {
            margin-top: 1rem;
        }


        /* --- 物料追踪 --- */
        .material-track::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 15%;
            width: 70%;
            height: 2px;
            background-color: #334155; /* slate-700 */
            z-index: 1;
        }
        .step-date {
            font-size: 0.7rem;
            color: #9ca3af;
            margin-top: 2px;
        }
        .logistics-info {

            font-size: 0.8rem;
            color: #94a3b8; /* slate-400 */
            padding-top: 0.5rem;
            text-align: left;
            white-space: normal;
        }
        .logistics-info strong {
            color: #cbd5e1; /* slate-300 */
        }

        /* --- 物流看板样式 --- */
        .logistics-board {
            background-color: #1e293b; /* slate-800 */
            border: 1px solid #334155; /* slate-700 */
            border-radius: 0.5rem;
            padding: 0.5rem; /* 减小内边距 */
            font-size: 0.8rem;
            min-width: 250px; /* 确保看板有足够宽度 */
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            gap: 0.5rem; /* 增加元素间距 */
            transition: box-shadow 0.3s ease; /* 添加过渡效果 */
            position: relative; /* [ADDED] 为绝对定位的子元素创建相对容器 */
        }

        .logistics-board.highlighted {
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.9);
        }    

        /* [MODIFIED] 为高亮输入框添加更亮、偏白的红色呼吸灯动画 */
        @keyframes pulse-red-warning {
            0% {
                box-shadow: 0 0 5px rgba(255, 255, 255, 0.7), 0 0 10px rgba(255, 0, 0, 0.6);
            }
            50% {
                box-shadow: 0 0 12px rgba(255, 255, 255, 1), 0 0 25px rgba(255, 0, 0, 1);
            }
            100% {
                box-shadow: 0 0 5px rgba(255, 255, 255, 0.7), 0 0 10px rgba(255, 0, 0, 0.6);
            }
        }
        /* [ADDED] 调整物流看板第一行的布局，以容纳日期和输入框 */
        .logistics-board > div:first-child {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem; /* 在日期和输入框之间增加间距 */
        }

        .logistics-board > div:first-child {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .board-input {
            background-color: #334155; /* slate-700 */
            border: 1px solid #475569; /* slate-600 */
            color: #e2e8f0;
            border-radius: 0.375rem; /* rounded-md */
            font-size: 0.75rem; /* text-xs */
            padding: 2px 6px;
             /* 基础样式 */
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
        }
        .board-input:focus {
            outline: none; ring: 2px; ring-color: #0ea5e9;
        }
        .board-input.date-input {
            width: 120px;
        }
        .board-input.qty-input {
            width: 28px; /* 缩小尺寸 */
            height: 28px;
            border-radius: 50%; /* 设置为圆形 */
            text-align: center;
            /* [MODIFIED] 使用绝对定位固定在右下角 */
            /* [MODIFIED] 调整为绝对定位，使其与新标签对齐 */
            position: absolute;
            bottom: 0.5rem; /* 匹配父容器的内边距 */
            right: 0.5rem;  /* 匹配父容器的内边距 */
            bottom: 0.5rem; /* 距离底部内边距 */
            right: 1.5rem;  /* 调整右侧位置 */
            padding: 0; /* 移除内边距以更好地居中 */
        }
         .board-input.highlighted {
            animation: pulse-red-warning 1.2s infinite; /* 应用动画，加快节奏 */
            background-color: #b91c1c; /* red-700 */
            color: #f8fafc; /* slate-50 */
        }

        /* 隐藏数字输入框的上下箭头 (适用于Chrome, Safari, Edge) */
        .board-input.qty-input::-webkit-outer-spin-button,
        .board-input.qty-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        /* 隐藏数字输入框的上下箭头 (适用于Firefox) */
        .board-input.qty-input[type=number] {
            -moz-appearance: textfield;
        }
        .ship-date-text {
            font-size: 0.8rem;
            font-weight: 500;
            color: #94a3b8; /* slate-400 */
        }
        /* 允许特定列的文本换行 */
        .wrap-text {
            white-space: normal;
            word-break: break-all;
        }

        .search-input {
            padding: 0.5rem 1rem;
            border: 1px solid #475569; /* slate-600 */
            border-radius: 0.375rem; /* rounded-md */
            width: 108px; /* 调整宽度以适应多个搜索框 */
            font-size: 14px;
            background-color: #1e293b; /* slate-800 */
            color: #e2e8f0;
        }
        .search-input:focus {
            outline: none;
            border-color: #0ea5e9;
            box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.5);
        }
        .reset-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #475569; /* slate-600 */
            background-color: #334155; /* slate-700 */
            color: #e2e8f0; /* slate-200 */
            border-radius: 0.375rem;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.2s;
            white-space: nowrap; /* 防止文字换行 */
        }
        .reset-btn:hover { background-color: #475569; /* slate-600 */ }

        /* 新增：为激活的筛选按钮添加“选中”样式 */
        .reset-btn.active-filter {
            background-color: #0ea5e9; /* 亮蓝色背景 */
            color: #ffffff; /* 白色文字 */
            border-color: #0ea5e9; /* 边框同色 */
            box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.5); /* 添加外发光效果 */
        }
    </style>
    
<style>
    /* --- 新增的列隐藏/显示样式 --- */
    .collapsible-col {
        display: none;
    }
    .table-container.show-collapsed .collapsible-col {
        display: table-cell;
    }

    /* --- [MODIFIED] 冻结列 left 值动态调整 (使用百分比) --- */

    /* 展开状态 (.show-collapsed) - Updated for new widths */
    .table-container.show-collapsed th:nth-child(1),
    .table-container.show-collapsed td:nth-child(1) { left: 0; }

    .table-container.show-collapsed th:nth-child(2),
    .table-container.show-collapsed td:nth-child(2) { left: 6.6%; } /* Col 1 width */

    .table-container.show-collapsed th:nth-child(3),
    .table-container.show-collapsed td:nth-child(3) { left: 10.7%; } /* Col 1 + 2 widths (6.6% + 4.1%) */

    .table-container.show-collapsed th:nth-child(4),
    .table-container.show-collapsed td:nth-child(4) { left: 14.0%; } /* Col 1 + 2 + 3 widths (10.7% + 3.3%) */

    /* 折叠状态 (default) - Updated for new widths */
    .table-container:not(.show-collapsed) th:nth-child(2),
    .table-container:not(.show-collapsed) td:nth-child(2) { left: 0; } /* 申请日期 is now first */

    .table-container:not(.show-collapsed) th:nth-child(4),
    .table-container:not(.show-collapsed) td:nth-child(4) { left: 4.1%; } /* 项目编号 is after 申请日期 (Col 2 width) */
    
    /* 确保第一行表头的合并单元格始终在最左侧 */
    thead .group-header th:first-child { left: 0; }
</style>
<style>
/* [REMOVED] 移除之前用于调试的所有 !important 强制样式 */
</style>

<body>

    <div class="page-header">
         <h1>现场物料管理报表</h1>
        <div class="search-wrapper" style="display: flex; gap: 0.75rem; align-items: center;">
            <input type="text" id="search-material-code" class="search-input" placeholder="按物料编码搜索...">
            <input type="text" id="search-project-number" class="search-input" placeholder="按项目编号搜索...">
            <input type="text" id="search-applicant" class="search-input" placeholder="按申请人搜索...">
            <input type="text" id="search-application-date" class="search-input" placeholder="按申请日期搜索...">
            <button id="reset-button" class="reset-btn">重置</button>
            <button id="filter-archived" class="reset-btn">已归档</button>
            <button id="filter-unarchived" class="reset-btn">未归档</button>
        </div>
    </div>

    <div class="table-container">
        <table>
            <thead>
                <tr class="group-header">
                    <th id="group-header-info" colspan="1">
                        <div class="group-header-content">
                            <span class="toggle-icon" title="切换显示/隐藏列">[+]</span>
                            <span>申请信息</span>                            
                        </div>
                    </th>
                    <th id="group-header-material" colspan="3">项目与物料</th><th colspan="3" style="display: none;">需求与计划</th><th colspan="6">签核追踪</th><th colspan="1">物料追踪</th>
                </tr>
                <tr class="field-header">
                    <th class="collapsible-col wrap-text">流程编码</th>
                    <th class="wrap-text">申请日期</th>
                    <th class="collapsible-col wrap-text">申请人</th>
                    <th class="wrap-text">项目编号</th>
                    <th class="wrap-text">项目名称</th>
                    <th class="collapsible-col wrap-text">物料编码</th>
                    <th class="wrap-text">物料名称</th>
                    <th class="text-right" style="display: none;">需求数量</th>
                    <th style="display: none;">需求日期</th>
                    <th style="display: none;">计划到货日期</th>
                    <th colspan="6">签核进度</th>
                    <th>物流状态</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="mono-font collapsible-col wrap-text">JCSHWL202509237135</td>
                    <td class="wrap-text">2025-09-27</td>
                    <td class="collapsible-col wrap-text">程伦勇</td>
                    <td class="mono-font wrap-text">2208AUTXN2568-S</td>
                    <td class="wrap-text">2208AUTXN2568-S</td>
                    <td class="mono-font collapsible-col wrap-text">10501000000011</td>
                    <td class="wrap-text">伺服电机(开槽)</td>
                    <td class="text-right mono-font" style="display: none;">3</td>
                    <td style="display: none;">2025-10-10</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">2025-09-30</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">已归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">海靖杰</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核2</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-10-10</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-10-12</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">70</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="2" class="board-input qty-input highlighted"><div><strong>物流信息:</strong> -</div>
                            <div><strong>关联单号:</strong> -</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="mono-font collapsible-col wrap-text">SZ-ECN202509270002</td>
                    <td class="wrap-text">2025-09-27</td>
                    <td class="collapsible-col wrap-text">卜凡</td>
                    <td class="mono-font wrap-text">2504QMSHN2042</td>
                    <td class="wrap-text">华星M6/M7-惠州-M7B工程部-98寸 DEMAPI一体机-1</td>
                    <td class="mono-font collapsible-col wrap-text">1230360473</td>
                    <td class="wrap-text">拔线单元</td>
                    <td class="text-right mono-font" style="display: none;">1</td>
                    <td style="display: none;">2025-09-28</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">2025-09-28</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">肖治祥</div></div>
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">金志龙</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-09-28</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">2025-09-28</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-09-30</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">2025-09-29</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">1</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="2" class="board-input qty-input highlighted"><div><strong>物流信息:</strong> 顺丰 SF123456789</div>
                            <div><strong>关联单号:</strong> JLE25091258</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="mono-font collapsible-col wrap-text">SZ-ECN202509270001</td>
                    <td class="wrap-text">2025-09-27</td>
                    <td class="collapsible-col wrap-text">刘江涛</td>
                    <td class="mono-font wrap-text">2506APIXN3064</td>
                    <td class="wrap-text">成都B16-成都-Normal模组-IT线体ABI-4</td>
                    <td class="mono-font collapsible-col wrap-text">2111860318</td>
                    <td class="wrap-text">自动插线工站外罩单元（正向线）</td>
                    <td class="text-right mono-font" style="display: none;">1</td>
                    <td style="display: none;">2025-10-13</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">2025-10-05</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">郭宗友</div></div>
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">金志龙</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-10-13</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">2025-09-29</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-10-14</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">2025-09-30</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">2025-10-02</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">1</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="1" class="board-input qty-input highlighted"><div><strong>物流信息:</strong> 京东 JDL987654321</div>
                            <div><strong>关联单号:</strong> JLE25091257</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="mono-font collapsible-col wrap-text">JCHDXC202509262048</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">冯吕呈</td>
                    <td class="mono-font wrap-text">2411WAIHD4897</td>
                    <td class="wrap-text">-</td>
                    <td class="mono-font collapsible-col wrap-text">1150260406</td>
                    <td class="wrap-text">RTX 3090 无 (英伟达)</td>
                    <td class="text-right mono-font" style="display: none;">1</td>
                    <td style="display: none;">2025-09-26</td>
                    <td style="display: none;">2025-09-26</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">2025-09-29</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">洪展华</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核2</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-09-26</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">2025-09-25</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-09-27</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">2025-09-26</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">2025-09-28</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">1</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> 跨越 KYE88888888</div>
                            <div><strong>关联单号:</strong> JLE25091256</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="mono-font collapsible-col wrap-text">JCSHWL202509267162</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">胡兵兵</td>
                    <td class="mono-font wrap-text">2306APIHD2124-S</td>
                    <td class="wrap-text">2306APIHD2124-S◆厦门-AVT*8套</td>
                    <td class="mono-font collapsible-col wrap-text">12905243257-LD11-BJ-1030</td>
                    <td class="wrap-text">8进8出端子台防护钣金（黑色）</td>
                    <td class="text-right mono-font" style="display: none;">12</td>
                    <td style="display: none;">2025-10-08</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">2025-10-10</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">尹浩</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核2</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-10-08</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-10-10</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">470</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> -</div>
                            <div><strong>关联单号:</strong> -</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="mono-font collapsible-col wrap-text">JCHDXC202509262047</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">杨蓉</td>
                    <td class="mono-font wrap-text">2509PASXN4567</td>
                    <td class="wrap-text">-</td>
                    <td class="mono-font collapsible-col wrap-text">1010961301</td>
                    <td class="wrap-text">GI361_D12_P1_FPC JC-FPC-TDD069A 无 (无)</td>
                    <td class="text-right mono-font" style="display: none;">160</td>
                    <td style="display: none;">2025-09-26</td>
                    <td style="display: none;">2025-09-26</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">2025-09-25</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">洪展华</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核2</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-09-26</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">2025-09-25</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-09-28</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">2025-09-26</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">2025-09-29</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">160</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> 德邦 DP123123123</div>
                            <div><strong>关联单号:</strong> JLE25091255</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="mono-font collapsible-col wrap-text">JCSHWL202509267161</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">代子群</td>
                    <td class="mono-font wrap-text">2404AUTHD1519-S</td>
                    <td class="wrap-text">2404AUTHD1519-S◆自动化检测设备*2套</td>
                    <td class="mono-font collapsible-col wrap-text">12905241519-YJ01-XJ-0410</td>
                    <td class="wrap-text">防撞块</td>
                    <td class="text-right mono-font" style="display: none;">1</td>
                    <td style="display: none;">2025-10-15</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">2025-10-01</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">陈锴</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核2</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-10-15</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-10-17</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">2</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> -</div>
                            <div><strong>关联单号:</strong> -</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="mono-font collapsible-col wrap-text">JCSHWL202509267161</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">代子群</td>
                    <td class="mono-font wrap-text">2404AUTHD1519-S</td>
                    <td class="wrap-text">2404AUTHD1519-S◆自动化检测设备*2套</td>
                    <td class="mono-font collapsible-col wrap-text">11805241519-YJ01-SG-0030</td>
                    <td class="wrap-text">滚珠丝杠</td>
                    <td class="text-right mono-font" style="display: none;">1</td>
                    <td style="display: none;">2025-10-15</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">2025-09-29</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">陈锴</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核2</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-10-15</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-10-17</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">1</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> -</div>
                            <div><strong>关联单号:</strong> -</div>
                        </div>
                    </td>
                </tr>
                <tr>
                 <tr>
                    <td class="mono-font collapsible-col wrap-text">202509260006</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">陶辉</td>
                    <td class="mono-font wrap-text">2507DEMHZ3818</td>
                    <td class="wrap-text">津海-襄阳-模组-DEMURA-2</td>
                    <td class="mono-font collapsible-col wrap-text">10905000000266</td>
                    <td class="wrap-text">通讯盒（正确单位为PCS）</td>
                    <td class="text-right mono-font" style="display: none;">1</td>
                    <td style="display: none;">-</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">2025-09-26</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">张威</div></div>
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">张兰兰</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-09-29</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">1</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> -</div>
                            <div><strong>关联单号:</strong> -</div>
                        </div>
                    </td>
                </tr>
                
                <tr>
                 <tr>
                    <td class="mono-font collapsible-col wrap-text">JCFHQD202509262811</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">罗洁明</td>
                    <td class="mono-font wrap-text">2506MARHD3044</td>
                    <td class="wrap-text">上海-REL-D240 P1 EE carrier&B2B Board-470</td>
                    <td class="mono-font collapsible-col wrap-text">1011060678</td>
                    <td class="wrap-text">JC-PGD-MAR018A</td>
                    <td class="text-right mono-font" style="display: none;">470</td>
                    <td style="display: none;">-</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">-</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">罗洁明</div></div>
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">龚四羊</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-09-29</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">1</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> -</div>
                            <div><strong>关联单号:</strong> -</div>
                        </div>
                    </td>
                </tr>
                <tr>
                 <tr>
                    <td class="mono-font collapsible-col wrap-text">JCFHQD202509262811</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">罗洁明</td>
                    <td class="mono-font wrap-text">2506MARHD3044</td>
                    <td class="wrap-text">上海-REL-D240 P1 EE carrier&B2B Board-470</td>
                    <td class="mono-font collapsible-col wrap-text">2011060784</td>
                    <td class="wrap-text">JC-DC-MAR141A</td>
                    <td class="text-right mono-font" style="display: none;">70</td>
                    <td style="display: none;">-</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">-</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">罗洁明</div></div>
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">龚四羊</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-10-02</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">1</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> -</div>
                            <div><strong>关联单号:</strong> -</div>
                        </div>
                    </td>
                </tr>
                <tr>
                 <tr>
                    <td class="mono-font collapsible-col wrap-text">JCFHQD202509262811</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">罗洁明</td>
                    <td class="mono-font wrap-text">2506MARHD3044</td>
                    <td class="wrap-text">上海-REL-D240 P1 EE carrier&B2B Board-470</td>
                    <td class="mono-font collapsible-col wrap-text">1011060675</td>
                    <td class="wrap-text">JC-MB-MAR115A</td>
                    <td class="text-right mono-font" style="display: none;">70</td>
                    <td style="display: none;">-</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">-</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">罗洁明</div></div>
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">龚四羊</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-10-02</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">12</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> -</div>
                            <div><strong>关联单号:</strong> -</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="mono-font collapsible-col wrap-text">JCFHQD202509262811</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">罗洁明</td>
                    <td class="mono-font wrap-text">2506MARHD3044</td>
                    <td class="wrap-text">上海-REL-D240 P1 EE carrier&B2B Board-470</td>
                    <td class="mono-font collapsible-col wrap-text">12910224014-JG39-XJ-0750</td>
                    <td class="wrap-text">"D240 Manual Locating block "</td>
                    <td class="text-right mono-font" style="display: none;">70</td>
                    <td style="display: none;">-</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">-</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">罗洁明</div></div>
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">龚四羊</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-10-03</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">3</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> -</div>
                            <div><strong>关联单号:</strong> -</div>
                        </div>
                    </td>
                </tr>
                <tr>
                 <tr>
                    <td class="mono-font collapsible-col wrap-text">SZ-ECN202509260023</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">郭显椿</td>
                    <td class="mono-font wrap-text">2503APIHD1474</td>
                    <td class="wrap-text">京东方B5-合肥-后工程-FI AOI大相机升级-13</td>
                    <td class="mono-font collapsible-col wrap-text">12905251474-AO40-XC-1090</td>
                    <td class="wrap-text">18线API工站改造单元</td>
                    <td class="text-right mono-font" style="display: none;">2</td>
                    <td style="display: none;">2025-09-30</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">-</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">金志龙</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核2</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-09-30</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">-</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-10-03</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">2025-09-25</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">2025-09-27</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">4</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> 顺丰 SF02890697249</div>
                            <div><strong>关联单号:</strong> JLE25091259</div>
                        </div>
                    </td>
                </tr>
                <tr>
                 <tr>
                    <td class="mono-font collapsible-col wrap-text">SZ-ECN202509260023</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">郭显椿</td>
                    <td class="mono-font wrap-text">2503APIHD1474</td>
                    <td class="wrap-text">京东方B5-合肥-后工程-FI AOI大相机升级-13</td>
                    <td class="mono-font collapsible-col wrap-text">12905251474-AO40-XC-1100</td>
                    <td class="wrap-text">18线API工站改造单元</td>
                    <td class="text-right mono-font" style="display: none;">2</td>
                    <td style="display: none;">2025-09-30</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">-</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">金志龙</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核2</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-09-30</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">2025-09-25</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-09-28</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">2025-09-25</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">2025-09-27</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">70</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input"><div><strong>物流信息:</strong> 顺丰 SF02890697249</div>
                            <div><strong>关联单号:</strong> JLE25091259</div>
                        </div>
                    </td>
                </tr>
                <tr>
                 <tr>
                    <td class="mono-font collapsible-col wrap-text">SZ-ECN202509260023</td>
                    <td class="wrap-text">2025-09-26</td>
                    <td class="collapsible-col wrap-text">郭显椿</td>
                    <td class="mono-font wrap-text">2503APIHD1474</td>
                    <td class="wrap-text">京东方B5-合肥-后工程-FI AOI大相机升级-13</td>
                    <td class="mono-font collapsible-col wrap-text">12905251474-AO40-BJ-1050</td>
                    <td class="wrap-text">18线API工站改造单元</td>
                    <td class="text-right mono-font" style="display: none;">4</td>
                    <td style="display: none;">2025-09-30</td>
                    <td style="display: none;">-</td>
                    <td colspan="6">
                        <div class="approval-container">
                             <div class="approval-dates">
                                <div class="date-column" style="flex-direction: row; gap: 1.5rem;">
                                    <div><span class="date-label">流程签核完成日期:</span><span class="date-value">-</span></div>
                                    <div><span class="date-label">签核状态:</span><span class="date-value">未归档</span></div>
                                </div>
                            </div>
                            <div class="progress-track approval-track">
                                <div class="progress-step completed"><div class="step-node"></div><div class="step-label">金志龙</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核2</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核3</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">签核4</div></div>
                                <div class="progress-step"><div class="step-node"></div><div class="step-label">完成</div></div>
                            </div>
                        </div>
                    </td>
                    <td>
                         <div class="logistics-board">
                            <div>
                                <div class="approval-dates" style="justify-content: space-between; align-items: flex-start; width: 100%;">
                                    <div class="date-column">
                                        <div><span class="date-label">需求日期:</span><span class="date-value">2025-09-30</span></div>
                                        <div><span class="date-label">入库日期:</span><span class="date-value">2025-09-24</span></div>
                                        <div><span class="date-label">计划到货日期:</span><span class="date-value">2025-09-28</span></div>
                                    </div>
                                    <div class="date-column" style="align-items: flex-start;">
                                        <div><span class="date-label">寄件日期:</span><span class="date-value">2025-09-25</span></div>
                                        <div><span class="date-label">签收日期:</span><span class="date-value">2025-09-27</span></div>
                                        <div><span class="date-label">寄出数量:</span><span class="date-value">70</span></div>
                                    </div>
                                </div>
                            </div>
                            <input type="number" value="0" class="board-input qty-input highlighted"><div><strong>物流信息:</strong> JE JLE25091259</div>
                            <div><strong>关联单号:</strong> JLE25091259</div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        // [MODIFIED] 将所有脚本合并到一个 DOMContentLoaded 监听器中，以确保执行顺序和避免冲突
        document.addEventListener('DOMContentLoaded', function() {
            // --- 搜索和重置功能 ---
            const searchMaterialCode = document.getElementById('search-material-code');
            const searchProjectNumber = document.getElementById('search-project-number');
            const searchApplicant = document.getElementById('search-applicant');
            const searchApplicationDate = document.getElementById('search-application-date');
            const filterArchivedBtn = document.getElementById('filter-archived');
            const filterUnarchivedBtn = document.getElementById('filter-unarchived');
            const resetButton = document.getElementById('reset-button');
            const tableBody = document.querySelector('.table-container tbody');
            const rows = Array.from(tableBody.getElementsByTagName('tr'));

            // 辅助函数：清除所有筛选按钮的激活状态
            function clearActiveFilters() {
                filterArchivedBtn.classList.remove('active-filter');
                filterUnarchivedBtn.classList.remove('active-filter');
            }

            function filterTable() {
                const materialCodeTerm = searchMaterialCode.value.toLowerCase().trim();
                const projectNumberTerm = searchProjectNumber.value.toLowerCase().trim();
                const applicantTerm = searchApplicant.value.toLowerCase().trim();
                const applicationDateTerm = searchApplicationDate.value.toLowerCase().trim();
                const statusFilter = this.dataset.statusFilter || ''; // 获取状态过滤器

                rows.forEach(row => {
                    const applicant = row.querySelector('td:nth-child(3)').textContent.toLowerCase();
                    const projectNumber = row.querySelector('td:nth-child(4)').textContent.toLowerCase();
                    const materialCode = row.querySelector('td:nth-child(6)').textContent.toLowerCase();
                    const applicationDate = row.querySelector('td:nth-child(2)').textContent.toLowerCase();
                    const statusElement = row.querySelector('.approval-dates .date-column div:nth-child(2) .date-value');
                    const status = statusElement ? statusElement.textContent.toLowerCase() : '';

                    const textMatch = applicant.includes(applicantTerm) &&
                                      projectNumber.includes(projectNumberTerm) &&
                                      materialCode.includes(materialCodeTerm)&&
                                        applicationDate.includes(applicationDateTerm);
                    
                    const statusMatch = !statusFilter || status.includes(statusFilter);

                    row.style.display = textMatch && statusMatch ? '' : 'none';
                });
            }

            [searchMaterialCode, searchProjectNumber, searchApplicant, searchApplicationDate].forEach(input => {
                input.addEventListener('input', function() {
                    clearActiveFilters(); // 用户在搜索框输入时，清除按钮的选中状态
                    filterTable.call({ dataset: {} });
                });
            });

            resetButton.addEventListener('click', function() {
                searchMaterialCode.value = '';
                searchProjectNumber.value = '';
                searchApplicant.value='';
                searchApplicationDate.value = '';
                clearActiveFilters(); // 重置时，清除按钮的选中状态
                filterTable.call({ dataset: {} }); // 调用 filterTable 并重置状态过滤器
            });

            // 为状态筛选按钮绑定事件
            filterArchivedBtn.addEventListener('click', function() {
                const isActive = this.classList.contains('active-filter');
                clearActiveFilters(); // 统一先清除所有状态
                if (isActive) {
                    // 如果按钮已经是激活状态，则取消筛选
                    filterTable.call({ dataset: {} });
                } else {
                    // 如果按钮未激活，则激活它并执行筛选
                    this.classList.add('active-filter');
                    [searchMaterialCode, searchProjectNumber, searchApplicant, searchApplicationDate].forEach(i => i.value = '');
                    filterTable.call({ dataset: { statusFilter: '已归档' } });
                }
            });

            filterUnarchivedBtn.addEventListener('click', function() {
                const isActive = this.classList.contains('active-filter');
                clearActiveFilters(); // 统一先清除所有状态
                if (isActive) {
                    // 如果按钮已经是激活状态，则取消筛选
                    filterTable.call({ dataset: {} });
                } else {
                    // 如果按钮未激活，则激活它并执行筛选
                    this.classList.add('active-filter');
                    [searchMaterialCode, searchProjectNumber, searchApplicant, searchApplicationDate].forEach(i => i.value = '');
                    filterTable.call({ dataset: { statusFilter: '未归档' } });
                }
            });

            // --- 列切换显示/隐藏逻辑 ---
            const toggleIcons = document.querySelectorAll('.toggle-icon');
            const tableContainer = document.querySelector('.table-container');
            const groupHeader = document.querySelector('.group-header');
            const firstGroupTh = groupHeader.querySelector('th:first-child');
            const secondGroupTh = groupHeader.querySelector('th:nth-child(2)');
            const infoGroupTh = document.getElementById('group-header-info');
            const materialGroupTh = document.getElementById('group-header-material');

            toggleIcons.forEach(icon => {
                icon.addEventListener('click', function() {
                tableContainer.classList.toggle('show-collapsed');
                    const isShown = tableContainer.classList.contains('show-collapsed');
                    firstGroupTh.colSpan = isShown ? 3 : 1;
                    secondGroupTh.colSpan = isShown ? 4 : 3;
                    infoGroupTh.colSpan = isShown ? 3 : 1;
                    materialGroupTh.colSpan = isShown ? 4 : 3;
                    toggleIcons.forEach(i => i.textContent = isShown ? '[-]' : '[+]');
                });
            });

            // --- 物流看板高亮逻辑 ---
            rows.forEach(row => {
                const requestDateElement = row.querySelector('.logistics-board .date-column:first-child .date-value:first-child');
                const arrivalDateElement = row.querySelector('.logistics-board .date-column:first-child div:nth-child(3) .date-value');
                const logisticsBoard = row.querySelector('.logistics-board');

                if (requestDateElement && arrivalDateElement && logisticsBoard) {
                    const requestDateText = requestDateElement.textContent;
                    const arrivalDateText = arrivalDateElement.textContent;

                    if (requestDateText && arrivalDateText && requestDateText !== '-' && arrivalDateText !== '-') {
                        if (new Date(arrivalDateText) > new Date(requestDateText)) {
                            logisticsBoard.classList.add('highlighted');
                        }
                    }
               }
            });
        });
    </script>
    
</body>




</html>